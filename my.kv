WindowManager:
    MainWindow:
    SecondWindow:
    ThirdWindow:
    MainGameWindow2:
    MainGameWindow3:
    PopupWindow:
    PopupWindowEnd:
    PopupWindowEnd2:
<MainWindow>:
    name: "main"

    FloatLayout:
        cols:1

        FloatLayout:
            size: root.width, root.height

        Label:
            pos_hint: {"top": 0.9, "x": 0.1}
            size_hint: 0.8, 0.15
            text: "Welcome to the home screen of"
            font_size: 40

        Label:
            pos_hint: {"top": 0.75, "x": 0.1}
            size_hint: 0.8, 0.15
            text: "OFC Score Calculator"
            font_size: 60
            color: 1,1,0,1

        Label:
            text: "Please choose the number of players: "
            pos_hint: {"x": 0.2, "y":0.3}
            size_hint: 0.6, 0.3
            font_size: 30

        Button:
            text: "3"
            pos_hint: {"y": 0.1, "x": 0.2}
            size_hint: 0.15,0.1
            on_release:
                app.root.current = "third"
                root.manager.transition.direction = "right"

        Button:
            text: "2"
            pos_hint: {"y": 0.1, "x": 0.65}
            size_hint: 0.15,0.1
            on_release:
                app.root.current = "second"
                root.manager.transition.direction = "left"

<SecondWindow>:
    name: "second"

    name_1: name_1
    name_2: name_2
    starting_score_1: st_sc_1
    starting_score_2: st_sc_2


    FloatLayout:
        cols:1

        FloatLayout:
            size: root.width, root.height/2

        Label:
            text: "Name and starting score for Player 1: "
            pos_hint: {"top":0.9}
            font_size: 22
            color: 1,1,0,1
            size_hint: 0.5,0.25


        Label:
            text: "Name and starting score for Player 2: "
            pos_hint: {"top":0.525}
            font_size: 22
            color: 1,1,0,1
            size_hint: 0.5,0.25

        RoundedButton:
            text: "Submit"
            pos_hint: {"x":0.55, "y":0.025}
            font_size: 30
            size_hint: 0.4,0.20
            on_press:
                root.clear_window()
            on_release:
                app.root.current = "MainGame2"
                root.manager.transition.direction = "left"

        RoundedButton:
            text: "Go Back"
            on_release:
                app.root.current = "main"
                root.manager.transition.direction = "right"
            pos_hint: {"x":0.05, "y":0.025}
            font_size: 30
            size_hint: 0.4,0.20

        TextInput:
            id: st_sc_1
            pos_hint: {"x":0.5, "top": 0.775}
            font_size: 30

            size_hint: 0.5,0.125

        TextInput:
            id: name_2
            pos_hint: {"x":0.5, "top": 0.525}
            font_size: 30
            size_hint: 0.5,0.125

        TextInput:
            id: name_1
            pos_hint: {"x":0.5, "top": 0.9}
            font_size: 30
            size_hint: 0.5,0.125


        TextInput:
            id: st_sc_2
            pos_hint: {"x":0.5, "top": 0.4}
            font_size: 30
            size_hint: 0.5,0.125


<ThirdWindow>:
    name: "third"


    FloatLayout:
        cols:1

        FloatLayout:
            size: root.width, root.height/2

        Label:
            text: "Name and starting score for Player 1: "
            pos_hint: {"top":1}
            font_size: 22
            color: 1,1,0,1
            size_hint: 0.5,0.25

        Label:
            text: "Name and starting score for Player 2: "
            pos_hint: {"top":0.75}
            font_size: 22
            color: 1,1,0,1
            size_hint: 0.5,0.25

        Label:
            text: "Name and starting score for Player 3: "
            pos_hint: {"top":0.5}
            font_size: 22
            color: 1,1,0,1
            size_hint: 0.5,0.25

        RoundedButton:
            text: "Submit"
            pos_hint: {"x":0.55, "y":0.025}
            font_size: 30
            size_hint: 0.4,0.20
            on_release:
                app.root.current = "MainGame3"
                root.manager.transition.direction = "right"
                root.collect_names()
                root.collect_scores()

        RoundedButton:
            text: "Go Back"
            pos_hint: {"x":0.05, "y":0.025}
            on_release:
                app.root.current = "main"
                root.manager.transition.direction = "left"
            font_size: 30
            size_hint: 0.4,0.20

        TextInput:
            id: name_3_1
            pos_hint: {"x":0.55, "top": 1}
            font_size: 30

            size_hint: 0.4,0.12

        TextInput:
            id: name_3_2
            pos_hint: {"x":0.55, "top": 0.75}
            font_size: 30

            size_hint: 0.4,0.12

        TextInput:
            id: name_3_3
            pos_hint: {"x":0.55, "top": 0.5}
            font_size: 30
            size_hint: 0.4,0.12

        TextInput:
            id: score_3_1
            pos_hint: {"x":0.55, "top": 0.875}
            font_size: 30
            size_hint: 0.4,0.12

        TextInput:
            id: score_3_2
            pos_hint: {"x":0.55, "top": 0.625}
            font_size: 30
            size_hint: 0.4,0.12

        TextInput:
            id: score_3_3
            pos_hint: {"x":0.55, "top": 0.375}
            font_size: 30
            size_hint: 0.4,0.12

<MainGameWindow2>
    name: "MainGame2"

    FloatLayout:

        Button:
            text: "Start"
            size_hint: 0.1,0.05
            pos_hint: {"x": 0.85, "y": 0.90}
            font_size: 15
            on_press:
                root.name_import()


        Label:
            id: hand_n
            text: "Hand No: DATA"
            pos_hint: {"y": 0.90, "x": 0.05}
            size_hint: 0.1,0.05
            font_size: 20

        Label:
            id: score_show
            text: "Score: 0, 0"
            pos_hint: {"y":0.9, "x":0.2}
            size_hint: 0.75,0.05
            font_size: 20

        Button:
            text: "Go back"
            size_hint: 0.1,0.05
            pos_hint: {"x":0.05, "y":0.05}
            font_size: 15
            on_press:
                root.del_hand()

        Button:
            text: "End Game"
            size_hint: 0.15,0.05
            pos_hint: {"x":0.40, "y":0.05}
            font_size: 15
            on_press:
                root.pop_btn_end()


        Button:
            text: "Chart"
            size_hint: 0.1,0.05
            pos_hint: {"x":0.85, "y":0.05}
            font_size: 15
            on_press:
                root.pop_btn()

        Label:
            text: "Royaltie Points"
            size_hint: 0.3, 0.05
            pos_hint: {"x": 0.15, "y": 0.85}
            font_size: 25
            color: 1,1,0,1

        Label:
            text: "Row Points"
            size_hint: 0.3, 0.05
            pos_hint: {"x": 0.6, "y": 0.85}
            font_size: 25
            color: 1,1,0,1

        Label:
            id: name_label_1
            text: "Player 1(): "
            size_hint: 0.3, 0.05
            pos_hint: {"x":0.05, "y": 0.75}
            font_size: 20

        TextInput:
            id: points_1
            size_hint: 0.1, 0.05
            pos_hint: {"x": 0.35, "y": 0.75}

        Label:
            id: name_label_2
            text: "Player 2(): "
            size_hint: 0.3, 0.05
            pos_hint: {"x":0.05, "y": 0.60}
            font_size: 20

        TextInput:
            id: points_2
            size_hint: 0.1, 0.05
            pos_hint: {"x": 0.35, "y": 0.60}

        Label:
            text: "Row 1 - 2: "
            size_hint: 0.3, 0.05
            pos_hint: {"x":0.55, "y": 0.60}
            font_size: 20

        TextInput:
            id: row_points
            size_hint: 0.1, 0.05
            pos_hint: {"x": 0.85, "y": 0.60}

        Label:
            id: score_id
            text: "The current score appears here!!"
            size_hint: 0.7, 0.1
            pos_hint: {"x": 0.05, "y": 0.15}
            font_size: 30


        Button:
            text: "ADD"
            size_hint: 0.1,0.1
            pos_hint: {"x":0.85, "y":0.15}
            font_size: 15
            on_press:
                root.collect_data()
                root.do_math()
                root.score_f()

<MainGameWindow3>
    name: "MainGame3"

    FloatLayout:

        Label:
            id: hand_label
            text: "Hand No: DATA"
            pos_hint: {"y": 0.90, "x": 0.05}
            size_hint: 0.1,0.05
            font_size: 20

        Label:
            id: score_label
            text: "Score: / "
            pos_hint: {"y":0.9, "x":0.2}
            size_hint: 0.75,0.05
            font_size: 20

        Button:
            text: "Go back"
            size_hint: 0.1,0.05
            pos_hint: {"x":0.05, "y":0.05}
            font_size: 15
            on_press:
                root.del_hand()

        Button:
            text: "End Game"
            size_hint: 0.15,0.05
            pos_hint: {"x":0.40, "y":0.05}
            font_size: 15
            on_press:
                root.pop_btn_end2()

        Button:
            text: "Chart"
            size_hint: 0.1,0.05
            pos_hint: {"x":0.85, "y":0.05}
            font_size: 15
            on_press:
                root.pop_btn()

        Label:
            text: "Royaltie Points"
            size_hint: 0.3, 0.05
            pos_hint: {"x": 0.15, "y": 0.85}
            font_size: 25
            color: 1,1,0,1

        Label:
            text: "Row Points"
            size_hint: 0.3, 0.05
            pos_hint: {"x": 0.6, "y": 0.85}
            font_size: 25
            color: 1,1,0,1

        Label:
            id: name_1
            text: "Player 1: "
            size_hint: 0.3, 0.05
            pos_hint: {"x":0.05, "y": 0.75}
            font_size: 20
        TextInput:
            id: points_1
            size_hint: 0.1, 0.05
            pos_hint: {"x": 0.35, "y": 0.75}

        Label:
            id: name_2
            text: "Player 2: "
            size_hint: 0.3, 0.05
            pos_hint: {"x":0.05, "y": 0.60}
            font_size: 20
        TextInput:
            id: points_2
            size_hint: 0.1, 0.05
            pos_hint: {"x": 0.35, "y": 0.60}

        Label:
            id: name_3
            text: "Player 3: "
            size_hint: 0.3, 0.05
            pos_hint: {"x":0.05, "y": 0.45}
            font_size: 20
        TextInput:
            id: points_3
            size_hint: 0.1, 0.05
            pos_hint: {"x": 0.35, "y": 0.45}

        Label:
            text: "Row 1 - 2 : "
            size_hint: 0.3, 0.05
            pos_hint: {"x":0.55, "y": 0.75}
            font_size: 20
        TextInput:
            id: row_1
            size_hint: 0.1, 0.05
            pos_hint: {"x": 0.85, "y": 0.75}

        Label:
            text: "Row 2 - 3: "
            size_hint: 0.3, 0.05
            pos_hint: {"x":0.55, "y": 0.60}
            font_size: 20
        TextInput:
            id: row_2
            size_hint: 0.1, 0.05
            pos_hint: {"x": 0.85, "y": 0.60}

        Label:
            text: "Row 3 - 1: "
            size_hint: 0.3, 0.05
            pos_hint: {"x":0.55, "y": 0.45}
            font_size: 20
        TextInput:
            id: row_3
            size_hint: 0.1, 0.05
            pos_hint: {"x": 0.85, "y": 0.45}

        Label:
            id: hand_score
            text: "The current score appears here!!"
            size_hint: 0.7, 0.1
            pos_hint: {"x": 0.05, "y": 0.15}
            font_size: 30

        Button:
            text: "Calc."
            size_hint: 0.1,0.1
            pos_hint: {"x":0.85, "y":0.15}
            font_size: 15
            on_press:
                root.collect_score()
                root.score_calc()
        Button:
            text: "Start"
            size_hint: 0.1,0.05
            pos_hint: {"x": 0.85, "y": 0.90}
            font_size: 15
            on_press:
                root.start_fnc()

<PopupWindow>
    name: "popupWindow"

    FloatLayout:
        Image:
            source: "OFC_my_table.png"

<PopupWindowEnd>
    name: "popupWindow2"

    FloatLayout:
        Label:
            size_hint: 0.8, 0.3
            text: "END SCREEN"
            pos_hint: {"x": 0.1, "y": 0.6}
            font_size: 32

        Label:
            id: score_display_1
            size_hint: 0.8, 0.1
            text:
            pos_hint: {"x": 0.1, "y": 0.5}
            font_size: 32

        Button:
            size_hint: 0.2, 0.1
            text: "EXIT"
            pos_hint: {"x": 0.1, "y": 0.2}
            font_size: 16
            on_press:
                app.stop()

        Button:
            size_hint: 0.2, 0.1
            text: "Score"
            pos_hint: {"x": 0.7, "y": 0.2}
            font_size: 16
            on_press:
                root.score_show()

<PopupWindowEnd2>
    name: "popupWindow3"

    FloatLayout:
        Label:
            size_hint: 0.8, 0.3
            text: "END SCREEN"
            pos_hint: {"x": 0.1, "y": 0.6}
            font_size: 32

        Label:
            id: score_display_1
            size_hint: 0.8, 0.1
            text:
            pos_hint: {"x": 0.1, "y": 0.5}
            font_size: 20

        Button:
            size_hint: 0.2, 0.1
            text: "EXIT"
            pos_hint: {"x": 0.1, "y": 0.2}
            font_size: 16
            on_press:
                app.stop()

        Button:
            size_hint: 0.2, 0.1
            text: "Score"
            pos_hint: {"x": 0.7, "y": 0.2}
            font_size: 16
            on_press:
                root.score_show()

<RoundedButton@Button>
    background_color: (0,0,0,0)
    background_normal: ""
    canvas.before:
        Color:
            rgba: (0.5,0.5,0.5,0.9)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [100]
